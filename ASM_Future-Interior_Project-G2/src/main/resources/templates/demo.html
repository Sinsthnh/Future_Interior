<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Avatar Form</title>
  <style>
    .avatar-container {
      position: relative;
      width: 200px;
      height: 200px;
      overflow: hidden;
      border-radius: 50%;
    }

    .avatar-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .avatar-input {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h2>Change Avatar</h2>
  <div class="auther-item d-flex align-items-center">
    <div class="avatar-upload">
      <div class="avatar-container">
        <img th:src="@{'/img/' + ${pe.thongTinTaiKhoan.anhDaiDien}}" alt="Avatar" width="160px" height="160px" class="avatar rounded-circle mx-3" onclick="getFileName(this)">
        <input id="avatar-input" name="avatar" class="avatar-input" type="file" accept="image/*">
      </div>
      <button type="button" class="btn btn-danger" onclick="uploadAvatar()">Upload</button>
    </div>
  </div>
  
  

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
  function uploadAvatar() {
  var fileInput = document.getElementById('avatar-input');
  var file = fileInput.files[0];
  var formData = new FormData();
  formData.append('avatar', file);

  var xhr = new XMLHttpRequest();
  xhr.open('POST', '/your-controller-url', true);
  xhr.onload = function() {
    if (xhr.status === 200) {
      // Xử lý phản hồi từ controller (nếu cần)
    } else {
      // Xử lý lỗi (nếu có)
    }
  };
  xhr.send(formData);
}

  </script>
</body>
</html>
